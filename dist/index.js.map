{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import './style/index.scss';\n\nclass SOpenClose {\n    selector: string;\n    private OPEN_CLASS: string = 'OPEN';\n    private CLOSE_CLASS: string = 'close';\n    private OPENER_CLASS: string = 'opener';\n\n    constructor(selector: string) {\n        this.selector = selector;\n        this.initOpenClose();\n    }\n\n    private initOpenClose() {\n        const openClose = document.querySelector(this.selector) as HTMLElement;\n        const openers = Array.from(openClose.querySelectorAll(`.${this.OPENER_CLASS}`));\n        openers.forEach((el) => el.classList.add(this.CLOSE_CLASS));\n        openClose.addEventListener('click', (event) => {\n            const target = event.target as HTMLElement;\n            const opener = target.closest(`.${this.OPENER_CLASS}`);\n            if (opener) {\n                if(opener.classList.contains(this.OPEN_CLASS)) {\n                    this.closeAll(openers);\n                    return;\n                }\n                this.closeAll(openers);\n                this.openCurrent(opener);\n            }\n        })\n    };\n\n    private closeAll(openers: Element[]) {\n        openers.forEach((el) => el.classList.remove(this.OPEN_CLASS));\n        openers.forEach((el) => el.classList.add(this.CLOSE_CLASS));\n    }\n\n    private openCurrent(opener: Element) {\n        opener.classList.add(this.OPEN_CLASS);\n        opener.classList.remove(this.CLOSE_CLASS);\n    }\n}\n\nwindow.SOpenClose = SOpenClose;"],"names":[],"mappings":";;;;;;;;;;;;;AAEA,IAAA,UAAA,kBAAA,YAAA;AAMI,IAAA,SAAA,UAAA,CAAY,QAAgB,EAAA;QAJpB,IAAU,CAAA,UAAA,GAAW,MAAM,CAAC;QAC5B,IAAW,CAAA,WAAA,GAAW,OAAO,CAAC;QAC9B,IAAY,CAAA,YAAA,GAAW,QAAQ,CAAC;AAGpC,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;AAEO,IAAA,UAAA,CAAA,SAAA,CAAA,aAAa,GAArB,YAAA;QAAA,IAgBC,KAAA,GAAA,IAAA,CAAA;QAfG,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAgB,CAAC;AACvE,QAAA,IAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,WAAI,IAAI,CAAC,YAAY,CAAE,CAAC,CAAC,CAAC;QAChF,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAK,EAAA,OAAA,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAlC,EAAkC,CAAC,CAAC;AAC5D,QAAA,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK,EAAA;AACtC,YAAA,IAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;AAC3C,YAAA,IAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAI,CAAA,MAAA,CAAA,KAAI,CAAC,YAAY,CAAE,CAAC,CAAC;AACvD,YAAA,IAAI,MAAM,EAAE;gBACR,IAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,UAAU,CAAC,EAAE;AAC3C,oBAAA,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACvB,OAAO;AACV,iBAAA;AACD,gBAAA,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACvB,gBAAA,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC5B,aAAA;AACL,SAAC,CAAC,CAAA;KACL,CAAA;IAEO,UAAQ,CAAA,SAAA,CAAA,QAAA,GAAhB,UAAiB,OAAkB,EAAA;QAAnC,IAGC,KAAA,GAAA,IAAA,CAAA;QAFG,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAK,EAAA,OAAA,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,CAApC,EAAoC,CAAC,CAAC;QAC9D,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAK,EAAA,OAAA,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAlC,EAAkC,CAAC,CAAC;KAC/D,CAAA;IAEO,UAAW,CAAA,SAAA,CAAA,WAAA,GAAnB,UAAoB,MAAe,EAAA;QAC/B,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAC7C,CAAA;IACL,OAAC,UAAA,CAAA;AAAD,CAAC,EAAA,CAAA,CAAA;AAED,MAAM,CAAC,UAAU,GAAG,UAAU"}