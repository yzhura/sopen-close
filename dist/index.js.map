{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import './style/index.scss';\n\nconst OPEN_CLASS = 'open';\nconst CLOSE_CLASS = 'close';\nconst OPENER_CLASS = 'opener';\n\nclass SOpenClose {\n    selector: string;\n\n    constructor(selector: string) {\n        this.selector = selector;\n        this.initOpenClose();\n    }\n\n    private initOpenClose() {\n        const openClose = document.querySelector(this.selector) as HTMLElement;\n        const openers = Array.from(openClose.querySelectorAll(`.${OPENER_CLASS}`));\n        openers.forEach((el) => el.classList.add(CLOSE_CLASS));\n        openClose.addEventListener('click', (event) => {\n            const target = event.target as HTMLElement;\n            const opener = target.closest(`.${OPENER_CLASS}`);\n            if (opener) {\n                if(opener.classList.contains(OPEN_CLASS)) {\n                    this.closeAll(openers);\n                    return;\n                }\n                this.closeAll(openers);\n                this.openCurrent(opener);\n            }\n        })\n    };\n\n    private closeAll(openers: Element[]) {\n        openers.forEach((el) => el.classList.remove(OPEN_CLASS));\n        openers.forEach((el) => el.classList.add(CLOSE_CLASS));\n    }\n\n    private openCurrent(opener: Element) {\n        opener.classList.add(OPEN_CLASS);\n        opener.classList.remove(CLOSE_CLASS);\n    }\n}\n\nwindow.SOpenClose = SOpenClose;"],"names":[],"mappings":";;;;;;;;;;;;;AAEA,IAAM,UAAU,GAAG,MAAM,CAAC;AAC1B,IAAM,WAAW,GAAG,OAAO,CAAC;AAC5B,IAAM,YAAY,GAAG,QAAQ,CAAC;AAE9B,IAAA,UAAA,kBAAA,YAAA;AAGI,IAAA,SAAA,UAAA,CAAY,QAAgB,EAAA;AACxB,QAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,aAAa,EAAE,CAAC;KACxB;AAEO,IAAA,UAAA,CAAA,SAAA,CAAA,aAAa,GAArB,YAAA;QAAA,IAgBC,KAAA,GAAA,IAAA,CAAA;QAfG,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAgB,CAAC;AACvE,QAAA,IAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAI,CAAA,MAAA,CAAA,YAAY,CAAE,CAAC,CAAC,CAAC;AAC3E,QAAA,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAA,EAAK,OAAA,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAA7B,EAA6B,CAAC,CAAC;AACvD,QAAA,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAK,EAAA;AACtC,YAAA,IAAM,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;YAC3C,IAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAI,CAAA,MAAA,CAAA,YAAY,CAAE,CAAC,CAAC;AAClD,YAAA,IAAI,MAAM,EAAE;gBACR,IAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;AACtC,oBAAA,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACvB,OAAO;AACV,iBAAA;AACD,gBAAA,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACvB,gBAAA,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC5B,aAAA;AACL,SAAC,CAAC,CAAA;KACL,CAAA;IAEO,UAAQ,CAAA,SAAA,CAAA,QAAA,GAAhB,UAAiB,OAAkB,EAAA;AAC/B,QAAA,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAA,EAAK,OAAA,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAA/B,EAA+B,CAAC,CAAC;AACzD,QAAA,OAAO,CAAC,OAAO,CAAC,UAAC,EAAE,EAAA,EAAK,OAAA,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAA7B,EAA6B,CAAC,CAAC;KAC1D,CAAA;IAEO,UAAW,CAAA,SAAA,CAAA,WAAA,GAAnB,UAAoB,MAAe,EAAA;AAC/B,QAAA,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACjC,QAAA,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;KACxC,CAAA;IACL,OAAC,UAAA,CAAA;AAAD,CAAC,EAAA,CAAA,CAAA;AAED,MAAM,CAAC,UAAU,GAAG,UAAU"}